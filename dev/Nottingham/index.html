<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Nottingham · TreeLoaders.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://SuperGrobi.github.io/TreeLoaders.jl/Nottingham/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TreeLoaders.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../ShadowCasting/">Shadow Casting</a></li><li class="is-active"><a class="tocitem" href>Nottingham</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Nottingham</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Nottingham</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SuperGrobi/TreeLoaders.jl/blob/main/docs/src/Nottingham.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Shadow-Casting"><a class="docs-heading-anchor" href="#Shadow-Casting">Shadow Casting</a><a id="Shadow-Casting-1"></a><a class="docs-heading-anchor-permalink" href="#Shadow-Casting" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>We load the tree data from the open data server of the city concil of nottingham, available here: <a href="https://maps164.nottinghamcity.gov.uk/server/rest/services/OpenData/OpenData/MapServer/91">nottingham tree data</a>.</p><p>As there are a lot of duplicates in this dataset, we need to clean that up, which happens while loading <code>load_nottingham_trees</code>. During this process, we also drop a lot of irrelevant columns and create a few new ones.</p><p>Due to the architecture of the shadow casting, we provide a user defined function which calculates the relevant data for calculating each trees shadow (x, y, height, radius) from every row in the loaded dataset. This allows for custom datasets to not be massively manipulated on loading, but rather enables the users to provide their own handlers working for their data.</p><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><ul><li><a href="#TreeLoaders.load_nottingham_trees-Tuple{Any}"><code>TreeLoaders.load_nottingham_trees</code></a></li><li><a href="#TreeLoaders.tree_param_getter_nottingham-Tuple{Any}"><code>TreeLoaders.tree_param_getter_nottingham</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="TreeLoaders.load_nottingham_trees-Tuple{Any}" href="#TreeLoaders.load_nottingham_trees-Tuple{Any}"><code>TreeLoaders.load_nottingham_trees</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_nottingham_trees(path; bbox=nothing)</code></pre><p>Loads tree data from nottingham. Downloaded from <code>https://maps164.nottinghamcity.gov.uk/server/rest/services/OpenData/OpenData/MapServer/91</code>.</p><p>merges the considerable amount of duplicate trees in the original dataset by distance (trees closer than 1e-4m are considered equal)</p><p><strong>arguments</strong></p><ul><li><code>path</code>: Path to the file with the dataset</li><li><code>bbox</code>: named tuple with (minlon, minlat, maxlon, maxlat), specifying a clipping range for the TreeLoaders</li></ul><p><strong>returns</strong></p><p>DataFrame with multiple columns, most relevant <code>:id, :lon, :lat, :pointgeom</code> and multiple other ones with a lot of information about the tree geometry  and metadata keys <code>&quot;center_lon&quot;</code> and <code>&quot;center_lat&quot;</code> describing the center of the bounding box of all trees contained.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/TreeLoaders.jl/blob/4d1fc02026b61f95c621a71d4f233bc0ce154b19/src/Nottingham.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TreeLoaders.tree_param_getter_nottingham-Tuple{Any}" href="#TreeLoaders.tree_param_getter_nottingham-Tuple{Any}"><code>TreeLoaders.tree_param_getter_nottingham</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tree_param_getter_nottingham(row)</code></pre><p>calculates the basic properies needed in the shadow casting algorithm based on a row of the nottingham dataset (loaded with <code>load_nottingham_trees</code>).</p><p><strong>returns</strong></p><p>tuple with:</p><ul><li>x: first coordinate of the pointgeom</li><li>y: second coordinate of the pointgeom</li><li>height of the center of the tree crown</li><li>r: radius of the tree crown</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SuperGrobi/TreeLoaders.jl/blob/4d1fc02026b61f95c621a71d4f233bc0ce154b19/src/Nottingham.jl#L79-L90">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ShadowCasting/">« Shadow Casting</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 12 June 2023 14:25">Monday 12 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
